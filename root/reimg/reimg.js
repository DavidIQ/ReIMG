/**
* Resize too large images
* (c) Tale 2008-2009
* http://www.taletn.com/
* Contributor(s):
* DavidIQ
* http://www.davidiq.com/
*/
var reimg_version=1.000002;document.writeln('<style type="text/css" media="screen, projection"><!--');document.writeln('.reimg { width: 1px; height: 1px; visibility: hidden; }');if(window.reimg_maxWidth){document.writeln('.reimg-width { width: '+reimg_maxWidth+'px; height: auto; vertical-align: top; }');if(window.reimg_swapPortrait){document.writeln('.reimg-width-portrait { width: auto; height: '+reimg_maxWidth+'px; }')}}if(window.reimg_maxHeight){document.writeln('.reimg-height { width: auto; height: '+reimg_maxHeight+'px; }');if(window.reimg_swapPortrait){document.writeln('.reimg-height-portrait { width: '+reimg_maxHeight+'px; height: auto; }')}}if(window.reimg_relWidth){document.writeln('.reimg-rel { width: '+reimg_relWidth+'%; height: auto; }')}if(window.reimg_autoLink){document.writeln('.reimg-link { cursor: pointer !important; }')}if(window.reimg_zoomImg){document.writeln('span.reimg-zoom { position: absolute; margin: 1px; }');document.writeln('img.reimg-zoom { border: none !important; cursor: pointer !important;'+(window.reimg_zoomStyle?' '+reimg_zoomStyle:'')+' }');if(window.reimg_zoomHover){document.writeln('img.reimg-zoom:hover { '+reimg_zoomHover+' }')}}document.writeln('.reimg-loading { border: none !important;'+(window.reimg_loadingStyle?' '+reimg_loadingStyle:'')+' }');document.write('--></style>');var reimg_opera=0;if(window.opera&&window.navigator&&window.navigator.userAgent){reimg_opera=window.navigator.userAgent.match(/\bOpera\/([\d.]+)/);if(reimg_opera){reimg_opera=reimg_opera[1]}else{reimg_opera=0}}var reimg_zoomLink=null;var reimg_realSize=new Array();function reimg_zoomIn(e){if(!e){e=window.event}target=this;if(e){if(target==window){target=e.target?e.target:e.srcElement}if(typeof(e.stopPropagation)!="undefined"){e.stopPropagation()}else{e.cancelBubble=true}}if(!target){return false}if(!reimg_zoomLink){reimg_zoomLink=document.createElement("a");reimg_zoomLink.style.display="none";if(window.reimg_zoomTarget=="_blank"){try{reimg_zoomLink.target="_blank"}catch(err){}}document.body.appendChild(reimg_zoomLink)}if(target.className.match(/(^|\s)reimg-zoom(\s|$)/)){reimg_zoomLink.href=target.parentNode.nextSibling.src}else{reimg_zoomLink.href=target.src}if(window.reimg_zoomTarget=="_blank"){if(reimg_zoomLink.target&&typeof(reimg_zoomLink.click)!="undefined"){reimg_zoomLink.click()}else{window.open(reimg_zoomLink.href)}}else if(window.reimg_zoomTarget=="_litebox"&&window.litebox_version){var a,height;if(reimg_realSize[reimg_zoomLink.href]){a=reimg_realSize[reimg_zoomLink.href][0];height=reimg_realSize[reimg_zoomLink.href][1]}else{a=target.parentNode.nextSibling.width;height=target.parentNode.nextSibling.height}litebox_show(reimg_zoomLink.href,a,height,window.reimg_zoomLevel)}else if(window.reimg_zoomTarget=="_highslide"&&window.hs){return hs.expand(reimg_zoomLink)}else if(window.reimg_zoomTarget=="_exturl"&&window.exturl_version){exturl(reimg_zoomLink,"force")}else{if(!window.exturl_version||exturl(reimg_zoomLink)){window.location.href=reimg_zoomLink.href}}return false}reimg_toDo=null;function reimg_resize(a,b,c,d){if(!reimg_toDo){reimg_toDo=new Array()}if(!a){return}if(a.readyState=="complete"&&a.complete&&!d){return}if(!d){d=0}var e=window.reimg_maxWidth;var f=window.reimg_maxHeight;var g=0;if(window.reimg_relWidth&&!b&&!c){var h=document.createElement("div");h.style.width=reimg_relWidth+"%";h.style.height="1px";h.style.visibility="hidden";a.parentNode.insertBefore(h,a);g=h.offsetWidth;a.parentNode.removeChild(h)}a.style.visibility="hidden";var i=a.className;if(i){a.className=i.replace(/(^|.*\s)reimg(\s+(.*)|$)/,'$1$3')}var j=a.width;var k=a.height;if(!(j&&k)){if(d<1){reimg_toDo[reimg_toDo.length]=[a,b,c];if(i){a.className=i}}else{if(a.previousSibling&&a.previousSibling.className&&a.previousSibling.className.match(/(^|\s)reimg-loading(\s|$)/)){a.parentNode.removeChild(a.previousSibling)}}a.style.visibility="";return}if(a.previousSibling&&a.previousSibling.className&&a.previousSibling.className.match(/(^|\s)reimg-loading(\s|$)/)){a.parentNode.removeChild(a.previousSibling)}if(a.src&&window.reimg_zoomTarget=="_litebox"&&!reimg_realSize[a.src]){if(b&&!c){c=Math.round(b/(j/k))}else if(c&&!b){b=Math.round(c/(k/j))}if(b&&c){reimg_realSize[a.src]=[b,c]}else{reimg_realSize[a.src]=[j,k]}}var l;if(window.reimg_swapPortrait&&k>j){l=true;j=a.height;k=a.width}else{l=false}var m=false;if(g){a.style.width=reimg_relWidth+"%";if(!reimg_opera||reimg_opera>=9.5){if(a.offsetWidth&&a.offsetWidth>g){m=true}}else{m=true}a.style.width="";if(!e||g<e){e=g}else{g=0}}if(window.reimg_swapPortrait&&e&&f&&f>e){e+=f;f=e-reimg_maxHeight;e-=f}i="";if(e&&j>e){k=Math.round(k/(j/e));j=e;if(k&&f&&k>f){j=Math.round(j/(k/f));k=f;i="reimg-both";g=0}else if(m){i="reimg-rel-force";g=0}else{i="reimg-"+(g?"rel":"width")+(l?"-portrait":"")}}else if(f&&k>f){j=Math.round(j/(k/f));k=f;if(j&&e&&j>e){k=Math.round(k/(j/e));j=e;i="reimg-both"}else if(m){i="reimg-rel-force"}else{i="reimg-height"+(l?"-portrait":"")}g=0}if(l){j+=k;k=j-k;j-=k}if(!(i||(b&&b>j)||(c&&c>k))){a.style.visibility="";return}if(!b){b=a.width}if(!c){c=a.height}if(g){a.style.maxWidth=((window.reimg_maxWidth&&reimg_maxWidth<a.width)?reimg_maxWidth:b)+"px"}if(i){if(a.style.width){a.style.width=""}if(a.style.height){a.style.height=""}a.className=(a.className?a.className+" ":"")+i}a.width=j;a.height=k;a.style.visibility="";if(window.reimg_autoLink){var n=a.parentNode;while(n&&n.tagName){var o=n.tagName.toLowerCase();if(o=="a"&&n.href){break}if(o=="div"||o=="td"||o=="body"){n=null;break}n=n.parentNode}if(!n){if(window.reimg_zoomAlt){a.title=reimg_zoomAlt.replace(/%1\$d/,b).replace(/%2\$d/,c)}a.className=(a.className?a.className+" ":"")+"reimg-link";if(typeof(a.addEventListener)!="undefined"){a.addEventListener("click",reimg_zoomIn,false)}else if(typeof(a.attachEvent)!="undefined"){a.attachEvent("onclick",reimg_zoomIn)}}}if(window.reimg_zoomImg){if(a.previousSibling&&(!a.previousSibling.tagName||a.previousSibling.tagName.toLowerCase()!="br")){var p=document.createElement("br");a.parentNode.insertBefore(p,a)}var q=document.createElement("span");var r=document.createElement("img");r.src=reimg_zoomImg;if(window.reimg_zoomAlt){r.alt=r.title=reimg_zoomAlt.replace(/%1\$d/,b).replace(/%2\$d/,c)}else{r.alt=""}r.className=q.className="reimg-zoom";r.onclick=reimg_zoomIn;q.appendChild(r);a.parentNode.insertBefore(q,a)}if(window.litebox_version&&litebox_background&&litebox_background.style.display!="none"){litebox_calc()}}var reimg_preLoadLoadingImg;function reimg_loading(a){if(!window.reimg_loadingImg){return}if(a!=1){if(a){reimg_preLoadLoadingImg=document.createElement("img");reimg_preLoadLoadingImg.src=a}if(window.reimg_loadingImg&&typeof(window.setTimeout)!="undefined"){window.setTimeout("reimg_loading(1);",1000)}return}var b=document.getElementsByTagName("img");if(b){var c=new Array();for(var i=0;i<b.length;i++){if(b[i].className.match(/(^|\s)reimg(\s|$)/)){c[c.length]=b[i]}}for(var i=0;i<c.length;i++){var d=document.createElement("img");d.src=reimg_loadingImg;if(window.reimg_loadingAlt){d.alt=d.title=reimg_loadingAlt}else{d.alt=""}d.className="reimg-loading";c[i].parentNode.insertBefore(d,c[i])}}}function reimg_onLoad(e){if(reimg_toDo){for(var i=0;i<reimg_toDo.length;i++){reimg_resize(reimg_toDo[i][0],reimg_toDo[i][1],reimg_toDo[i][2],1)}reimg_toDo=null}else{var a=document.getElementsByTagName("img");if(a){for(var i=0;i<a.length;i++){if(a[i].className.match(/(^|\s)reimg(\s|$)/)){reimg_resize(a[i],null,null,1)}}}}return true}if(window.onload_functions){onload_functions[onload_functions.length]="reimg_onLoad();"}else if(typeof(window.addEventListener)!="undefined"){window.addEventListener("load",reimg_onLoad,false)}else if(typeof(window.attachEvent)!="undefined"){window.attachEvent("onload",reimg_onLoad)}